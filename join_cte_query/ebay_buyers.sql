/*Вам доступна база данных, принадлежащая торговой площадке Ebay. Она включает таблицу Products и Sales. Первая таблица хранит информацию о доступных на площадке товарах, вторая — информацию о совершенных на площадке продажах.

Таблица Products
+----+----------------------------+-------+
| id | name                       | price |
+----+----------------------------+-------+
| 1  | Apple iPhone 13 Pro        | 779   |
| 2  | Samsung Galaxy S21         | 629   |
| 3  | Sony WH-1000XM4 Headphones | 105   |
| 4  | Nike Air Zoom Pegasus 38   | 415   |
| 5  | Adidas Ultraboost 21       | 480   |
| 6  | Lenovo ThinkPad X1 Carbon  | 99    |
| 7  | Dell XPS 13 Laptop         | 1475  |
| 8  | Canon EOS R6 Camera        | 1309  |
| 9  | Bose QuietComfort 35 II    | 435   |
| 10 | Samsung 65-inch QLED TV    | 345   |
| 11 | LG OLED55CXPUA TV          | 740   |
| 12 | Apple AirPods Pro          | 439   |
| 13 | Fitbit Versa 3             | 139   |
| 14 | PlayStation 5              | 320   |
| 15 | Xbox Series X              | 144   |
| 16 | Amazon Echo Dot (4th Gen)  | 210   |
| 17 | GoPro HERO9 Black          | 70    |
| 18 | Samsung Galaxy Tab S7      | 389   |
| 19 | Dyson V11 Animal Vacuum    | 132   |
| 20 | Instant Pot Duo 7-in-1     | 283   |
+----+----------------------------+-------+
Первое поле этой таблицы содержит идентификатор товара, второе — название, третье — цену в долларах.
Таблица Sales
+-----------+------------+----------+------------+----------+
| seller_id | product_id | buyer_id | sale_date  | quantity |
+-----------+------------+----------+------------+----------+
| 9         | 13         | 6        | 2023-07-19 | 3        |
| 4         | 20         | 8        | 2023-07-13 | 5        |
| 6         | 8          | 2        | 2023-06-03 | 3        |
| 2         | 16         | 6        | 2023-03-14 | 2        |
| 8         | 8          | 6        | 2023-05-23 | 9        |
| 1         | 14         | 3        | 2023-01-10 | 7        |
| 10        | 3          | 6        | 2023-03-28 | 6        |
| 3         | 13         | 4        | 2023-01-17 | 3        |
| 1         | 10         | 4        | 2023-01-26 | 7        |
| 10        | 17         | 3        | 2023-06-02 | 1        |
| 10        | 13         | 4        | 2023-05-13 | 4        |
| 8         | 19         | 2        | 2023-02-15 | 6        |
| 1         | 15         | 4        | 2023-06-03 | 7        |
| 1         | 5          | 1        | 2023-05-21 | 3        |
| 1         | 13         | 9        | 2023-04-07 | 9        |
| 7         | 12         | 2        | 2023-06-12 | 7        |
| 1         | 6          | 3        | 2023-02-01 | 2        |
| 5         | 11         | 4        | 2023-03-09 | 6        |
| 8         | 19         | 6        | 2023-06-02 | 3        |
| 1         | 12         | 6        | 2023-02-06 | 2        |
| 7         | 9          | 10       | 2023-05-10 | 4        |
| 2         | 16         | 5        | 2023-05-31 | 5        |
| 2         | 18         | 8        | 2023-03-09 | 4        |
| 10        | 12         | 2        | 2023-02-07 | 4        |
| 9         | 2          | 9        | 2023-06-23 | 10       |
| 2         | 14         | 10       | 2023-04-29 | 2        |
| 4         | 11         | 8        | 2023-07-04 | 5        |
| 3         | 6          | 6        | 2023-01-31 | 10       |
| 4         | 17         | 2        | 2023-07-16 | 6        |
| 10        | 13         | 4        | 2023-07-01 | 5        |
| 2         | 12         | 5        | 2023-04-08 | 2        |
| 4         | 10         | 4        | 2023-04-05 | 3        |
| 8         | 18         | 1        | 2023-05-22 | 3        |
| 5         | 2          | 1        | 2023-02-14 | 9        |
| 8         | 10         | 2        | 2023-04-08 | 10       |
| 8         | 18         | 10       | 2023-02-15 | 3        |
| 6         | 13         | 4        | 2023-02-06 | 8        |
| 1         | 7          | 4        | 2023-05-08 | 3        |
| 4         | 9          | 3        | 2023-07-13 | 1        |
| 1         | 20         | 8        | 2023-01-15 | 10       |
| 6         | 9          | 6        | 2023-03-09 | 2        |
| 6         | 8          | 4        | 2023-05-02 | 10       |
| 10        | 14         | 4        | 2023-07-13 | 7        |
| 7         | 4          | 9        | 2023-06-29 | 9        |
| 1         | 6          | 3        | 2023-01-23 | 10       |
| 10        | 10         | 6        | 2023-02-07 | 4        |
| 2         | 12         | 5        | 2023-05-10 | 8        |
| 3         | 1          | 4        | 2023-04-10 | 6        |
| 8         | 17         | 7        | 2023-05-18 | 6        |
+-----------+------------+----------+------------+----------+
Первое поле этой таблицы содержит идентификатор продавца, второе — идентификатор проданного товара, третье — идентификатор покупателя, четвертое — дату продажи, пятое — количество проданного товара.
Напишите запрос, извлекающий из предложенной базы данных идентификаторы покупателей, которые приобрели товар Canon EOS R6 Camera, но не приобрели товар Lenovo ThinkPad X1 Carbon.

Результат запроса
+----------+
| buyer_id |
+----------+
| 2        |
| 4        |
+----------+
Скрипт для создания таблиц Products и Sales
DROP TABLE IF EXISTS Sales;
DROP TABLE IF EXISTS Products;

-- Создание таблицы Products
CREATE TABLE Products
(
    id    INT PRIMARY KEY AUTO_INCREMENT,
    name  VARCHAR(50),
    price INT
);

INSERT INTO Products (name, price)
VALUES ('Apple iPhone 13 Pro', 779),
       ('Samsung Galaxy S21', 629),
       ('Sony WH-1000XM4 Headphones', 105),
       ('Nike Air Zoom Pegasus 38', 415),
       ('Adidas Ultraboost 21', 480),
       ('Lenovo ThinkPad X1 Carbon', 99),
       ('Dell XPS 13 Laptop', 1475),
       ('Canon EOS R6 Camera', 1309),
       ('Bose QuietComfort 35 II', 435),
       ('Samsung 65-inch QLED TV', 345),
       ('LG OLED55CXPUA TV', 740),
       ('Apple AirPods Pro', 439),
       ('Fitbit Versa 3', 139),
       ('PlayStation 5', 320),
       ('Xbox Series X', 144),
       ('Amazon Echo Dot (4th Gen)', 210),
       ('GoPro HERO9 Black', 70),
       ('Samsung Galaxy Tab S7', 389),
       ('Dyson V11 Animal Vacuum', 132),
       ('Instant Pot Duo 7-in-1', 283);

-- Создание таблицы Sales
CREATE TABLE Sales
(
    seller_id  INT,
    product_id INT,
    buyer_id   INT,
    sale_date  DATE,
    quantity   INT
);

TRUNCATE Sales;
INSERT INTO Sales (seller_id, product_id, buyer_id, sale_date, quantity)
VALUES (9, 13, 6, '2023-07-19', 3),
       (4, 20, 8, '2023-07-13', 5),
       (6, 8, 2, '2023-06-03', 3),
       (2, 16, 6, '2023-03-14', 2),
       (8, 8, 6, '2023-05-23', 9),
       (1, 14, 3, '2023-01-10', 7),
       (10, 3, 6, '2023-03-28', 6),
       (3, 13, 4, '2023-01-17', 3),
       (1, 10, 4, '2023-01-26', 7),
       (10, 17, 3, '2023-06-02', 1),
       (10, 13, 4, '2023-05-13', 4),
       (8, 19, 2, '2023-02-15', 6),
       (1, 15, 4, '2023-06-03', 7),
       (1, 5, 1, '2023-05-21', 3),
       (1, 13, 9, '2023-04-07', 9),
       (7, 12, 2, '2023-06-12', 7),
       (1, 6, 3, '2023-02-01', 2),
       (5, 11, 4, '2023-03-09', 6),
       (8, 19, 6, '2023-06-02', 3),
       (1, 12, 6, '2023-02-06', 2),
       (7, 9, 10, '2023-05-10', 4),
       (2, 16, 5, '2023-05-31', 5),
       (2, 18, 8, '2023-03-09', 4),
       (10, 12, 2, '2023-02-07', 4),
       (9, 2, 9, '2023-06-23', 10),
       (2, 14, 10, '2023-04-29', 2),
       (4, 11, 8, '2023-07-04', 5),
       (3, 6, 6, '2023-01-31', 10),
       (4, 17, 2, '2023-07-16', 6),
       (10, 13, 4, '2023-07-01', 5),
       (2, 12, 5, '2023-04-08', 2),
       (4, 10, 4, '2023-04-05', 3),
       (8, 18, 1, '2023-05-22', 3),
       (5, 2, 1, '2023-02-14', 9),
       (8, 10, 2, '2023-04-08', 10),
       (8, 18, 10, '2023-02-15', 3),
       (6, 13, 4, '2023-02-06', 8),
       (1, 7, 4, '2023-05-08', 3),
       (4, 9, 3, '2023-07-13', 1),
       (1, 20, 8, '2023-01-15', 10),
       (6, 9, 6, '2023-03-09', 2),
       (6, 8, 4, '2023-05-02', 10),
       (10, 14, 4, '2023-07-13', 7),
       (7, 4, 9, '2023-06-29', 9),
       (1, 6, 3, '2023-01-23', 10),
       (10, 10, 6, '2023-02-07', 4),
       (2, 12, 5, '2023-05-10', 8),
       (3, 1, 4, '2023-04-10', 6),
       (8, 17, 7, '2023-05-18', 6);*/
select buyer_id from Sales as s
inner join Products as p on p.id = s.product_id 
where buyer_id not in (select buyer_id from Sales as s
inner join Products as p on p.id = s.product_id where name = 'Lenovo ThinkPad X1 Carbon') and name = 'Canon EOS R6 Camera'
group by buyer_id
 
